(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32a08dd2"],{"2b6f":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:" my-2"},[s("div",{staticClass:"row buyMes"},[s("div",{staticClass:"col"},[s("div",{staticClass:"d-flex justify-content-center flex-column\n         align-items-center",class:{"bg-light text-white active":"1"!=t.progress,"bg-primary text-white active":"1"===t.progress},staticStyle:{height:"85px"}},[s("strong",[t._v("STEP 01")]),t._m(0)])]),s("div",{staticClass:"col"},[s("div",{staticClass:"d-flex justify-content-center flex-column\n         align-items-center",class:{"bg-light text-white active":"3"===t.progress,"bg-primary text-white active":"2"===t.progress},staticStyle:{height:"85px"}},[s("strong",[t._v("STEP 02")]),t._m(1)])]),s("div",{staticClass:"col"},[s("div",{staticClass:"d-flex justify-content-center flex-column\n         align-items-center",class:{"bg-primary text-white active":"3"===t.progress},staticStyle:{height:"85px"}},[s("strong",[t._v("STEP 03")]),t._m(2)])])])])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("b",[t._v("訂單資訊")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("b",[t._v("輸入資料")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("b",[t._v(" 付款 / 完成 ")])])}],i={data:function(){return{}},props:{progress:{type:String,default:""}}},n=i,c=(s("f3b8"),s("2877")),o=Object(c["a"])(n,a,r,!1,null,null,null);e["a"]=o.exports},"2d17":function(t,e,s){"use strict";var a=s("57dc"),r=s.n(a);r.a},4304:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container"},[s("BuyProcess",{attrs:{progress:t.step}}),t.orderContent?t._e():s("div",{staticClass:"my-5 row justify-content-center"},[s("form",{staticClass:" col-md-6",on:{submit:function(e){return e.preventDefault(),t.payorder(e)}}},[s("table",{staticClass:"table",staticStyle:{"font-size":"16px"}},[t._m(0),s("tbody",t._l(t.order.products,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.product.title))]),s("td",[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))]),s("td",{staticClass:" text-right"},[t._v(t._s(e.final_total))])])})),0),s("tfoot",{staticClass:" table-light",staticStyle:{"font-size":"18px"}},[s("tr",[s("td",{staticClass:"text-right text-primary",attrs:{colspan:"2"}},[t._v("總計")]),s("td",{staticClass:"text-right text-primary"},[t._v(t._s(t.order.total))])])])]),s("table",{staticClass:"table",staticStyle:{"font-size":"16px"}},[s("tbody",[s("tr",[s("th",[t._v("Email")]),s("td",[t._v(t._s(t.order.user.email))])]),s("tr",[s("th",[t._v("姓名")]),s("td",[t._v(t._s(t.order.user.name))])]),s("tr",[s("th",[t._v("收件人電話")]),s("td",[t._v(t._s(t.order.user.tel))])]),s("tr",[s("th",[t._v("收件人地址")]),s("td",[t._v(t._s(t.order.user.address))])]),s("tr",[s("th",[t._v("付款狀態")]),s("td",{staticStyle:{"font-size":"18px"}},[t.order.is_paid?s("span",{staticClass:"text-primary"},[t._v("付款完成")]):s("span",[t._v("尚未付款")])])])])]),s("div",{staticClass:"text-center"},[!1===t.order.is_paid?s("button",{staticClass:"btn btn-primary text-white",attrs:{type:"button"},on:{click:t.payorder}},[t._v("確認付款去")]):t._e()])])]),t.orderContent?s("div",{staticClass:"row d-flex flex-column align-items-center"},[s("i",{staticClass:"fa fa-check-circle my-2",staticStyle:{"font-size":"32px"},attrs:{"aria-hidden":"true"}},[t._v("訂單完成")]),s("table",{staticClass:"table col-md-6 mt-3",staticStyle:{"font-size":"16px"}},[s("tbody",[s("tr",[s("th",[t._v("訂單成立日期")]),s("td",[t._v(t._s(t._f("date")(t.order.create_at)))])]),s("tr",[s("th",[t._v("您的訂單編號")]),s("td",[t._v(t._s(t.order.id))])]),s("tr",[s("th",[t._v("您的訂單金額")]),s("td",[t._v(t._s(t.order.total))])])])]),s("button",{staticClass:"btn btn-primary mt-3",attrs:{type:"button"}},[s("router-link",{staticClass:"text-decoration-none text-white",attrs:{to:"/menumodel"}},[s("i",{staticClass:"fas fa-arrow-right pr-2"}),t._v("前往購物區")])],1)]):t._e()],1)])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:" table-light",staticStyle:{"font-size":"24px"}},[s("th",[t._v("品名")]),s("th",{attrs:{width:"80"}},[t._v("數量")]),s("th",[t._v("單價")])])}],i=(s("99af"),s("2b6f")),n={components:{BuyProcess:i["a"]},data:function(){return{order:{user:{}},orderId:"",step:"3",orderContent:!1}},methods:{getorder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("esan","/order/").concat(t.orderId);t.$store.dispatch("updateLoading",!0),t.$http.get(e).then((function(e){t.order=e.data.order,t.$store.dispatch("updateLoading",!1)}))},payorder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("esan","/pay/").concat(t.orderId);t.$store.dispatch("updateLoading",!0),t.$http.post(e).then((function(e){t.$store.dispatch("updateLoading",!1),e.data.success?(t.orderContent=!0,t.$bus.$emit("dataUpdata"),t.getorder(),t.$store.dispatch("MessageModules/updateMessage",{message:e.data.message,status:"success"})):t.$store.dispatch("MessageModules/updateMessage",{message:e.data.message,status:"danger"})}))}},created:function(){this.orderId=this.$route.params.orderId,this.getorder()}},c=n,o=(s("2d17"),s("2877")),d=Object(o["a"])(c,a,r,!1,null,null,null);e["default"]=d.exports},"57dc":function(t,e,s){},cb4e:function(t,e,s){},f3b8:function(t,e,s){"use strict";var a=s("cb4e"),r=s.n(a);r.a}}]);
//# sourceMappingURL=chunk-32a08dd2.7176b305.js.map